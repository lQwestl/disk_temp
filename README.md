# Disk Temperature Monitor

–ü—Ä–æ—Å—Ç–æ–π shell-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –¥–∏—Å–∫–æ–≤ (HDD/SSD/NVMe) –≤ FreeBSD/Linux —Å–∏—Å—Ç–µ–º–∞—Ö.

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∏—Å–∫–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π —Å—Ç–∞—Ç—É—Å–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- **SATA/SCSI –¥–∏—Å–∫–∏ (HDD)** - —á–µ—Ä–µ–∑ smartctl
- **NVMe –¥–∏—Å–∫–∏ (SSD)** - —á–µ—Ä–µ–∑ nvme-cli

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä –¢–∞–±–ª–∏—á–Ω—ã–π –≤—ã–≤–æ–¥ —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π –∫–∞–∂–¥–æ–≥–æ –¥–∏—Å–∫–∞
- üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ (–Ω–æ—Ä–º–∞/—Ç–µ–ø–ª–æ/–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è)
- üîç –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- ‚öôÔ∏è –†–∞–∑–Ω—ã–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ –¥–ª—è HDD –∏ NVMe
- üìù –°–ø—Ä–∞–≤–∫–∞ –ø–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞–º

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- `smartmontools` (–¥–ª—è SATA/SCSI –¥–∏—Å–∫–æ–≤)
- `nvme-cli` (–¥–ª—è NVMe –¥–∏—Å–∫–æ–≤)
- Root –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**FreeBSD:**
```bash
pkg install smartmontools nvme-cli
```

**Linux (Debian/Ubuntu):**
```bash
apt install smartmontools nvme-cli
```

**Linux (RHEL/CentOS):**
```bash
yum install smartmontools nvme-cli
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
curl -O https://raw.githubusercontent.com/lQwestl/disk_temp/main/disk_temp.sh
```

2. –°–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
```bash
chmod +x disk_temp.sh
```

3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:
```bash
mv disk_temp.sh /usr/local/bin/disk_temp
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫
```bash
./disk_temp.sh
```

–∏–ª–∏ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é):
```bash
disk_temp
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞
```
========================================
 –¢–ï–ú–ü–ï–†–ê–¢–£–†–ê –î–ò–°–ö–û–í
========================================

–î–∏—Å–∫     | –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ | –°—Ç–∞—Ç—É—Å
---------+------------+------------
SATA/SCSI –¥–∏—Å–∫–∏ (HDD):
----------------------
sda      |       42¬∞C | ‚úì –ò–¥–µ–∞–ª—å–Ω–æ
sdb      |       38¬∞C | ‚úì –ò–¥–µ–∞–ª—å–Ω–æ
sdc      |       52¬∞C | ‚úì –ù–æ—Ä–º–∞

NVMe –¥–∏—Å–∫–∏ (SSD):
-----------------
nvme0    |       55¬∞C | ‚úì –ù–æ—Ä–º–∞
========================================

–°–ø—Ä–∞–≤–∫–∞ –ø–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞–º:
- HDD: 35-55¬∞C - –Ω–æ—Ä–º–∞, 55-60¬∞C - —Ç–µ–ø–ª–æ, 60+¬∞C - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è
- NVMe: 50-70¬∞C - –Ω–æ—Ä–º–∞, 70+¬∞C - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–∏–∞—Å–æ–≤

–î–ª—è —É–¥–æ–±–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∫—Ä–∏–ø—Ç—É –¥–æ–±–∞–≤—å—Ç–µ –∞–ª–∏–∞—Å—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –≤–∞—à–µ–π –æ–±–æ–ª–æ—á–∫–∏.

### –î–ª—è Zsh (~/.zshrc):
```bash
# –ü–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –¥–∏—Å–∫–æ–≤
alias temp="/path/to/disk_temp.sh"

# –ö—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥ (—Ç–æ–ª—å–∫–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã)
alias tempshort='for d in sda sdb sdc sdd sde sdf sdg sdh sdi; do if [ -e "/dev/$d" ]; then temp=$(smartctl -a /dev/$d 2>/dev/null | grep "Current Drive Temperature" | awk "{print \$4}"); [ -n "$temp" ] && [ "$temp" != "0" ] && echo "$d: ${temp}¬∞C"; fi; done; if [ -e "/dev/nvme0" ]; then nvme_temp=$(nvme smart-log /dev/nvme0 2>/dev/null | awk "/^temperature/ {print \$3; exit}"); [ -n "$nvme_temp" ] && echo "nvme0: $nvme_temp"; fi'
```

### –î–ª—è Bash (~/.bashrc):
```bash
# –ü–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –¥–∏—Å–∫–æ–≤
alias temp="/path/to/disk_temp.sh"

# –ö—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥ (—Ç–æ–ª—å–∫–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã)
alias tempshort='for d in sda sdb sdc sdd sde sdf sdg sdh sdi; do if [ -e "/dev/$d" ]; then temp=$(smartctl -a /dev/$d 2>/dev/null | grep "Current Drive Temperature" | awk "{print \$4}"); [ -n "$temp" ] && [ "$temp" != "0" ] && echo "$d: ${temp}¬∞C"; fi; done; if [ -e "/dev/nvme0" ]; then nvme_temp=$(nvme smart-log /dev/nvme0 2>/dev/null | awk "/^temperature/ {print \$3; exit}"); [ -n "$nvme_temp" ] && echo "nvme0: $nvme_temp"; fi'
```

**–ó–∞–º–µ–Ω–∏—Ç–µ** `/path/to/disk_temp.sh` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É.

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–ª–∏–∞—Å–æ–≤ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```bash
source ~/.zshrc  # –¥–ª—è Zsh
source ~/.bashrc # –¥–ª—è Bash
```

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `temp` - –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å —Ç–∞–±–ª–∏—Ü–µ–π –∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
- `tempshort` - —Ç–æ–ª—å–∫–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –±–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –ø–æ—Ä–æ–≥–∏

### HDD (SATA/SCSI):
- **< 35¬∞C** - ‚úì –•–æ–ª–æ–¥–Ω–æ
- **35-45¬∞C** - ‚úì –ò–¥–µ–∞–ª—å–Ω–æ
- **45-55¬∞C** - ‚úì –ù–æ—Ä–º–∞
- **55-60¬∞C** - ‚ö†Ô∏è –¢–µ–ø–ª–æ
- **‚â• 60¬∞C** - ‚úó –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø

### NVMe SSD:
- **< 50¬∞C** - ‚úì –û—Ç–ª–∏—á–Ω–æ
- **50-60¬∞C** - ‚úì –ù–æ—Ä–º–∞
- **60-70¬∞C** - ‚ö†Ô∏è –¢–µ–ø–ª–æ
- **‚â• 70¬∞C** - ‚úó –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö" –¥–ª—è –¥–∏—Å–∫–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–∏—Å–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SMART: `smartctl -i /dev/sdX`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SMART –≤–∫–ª—é—á–µ–Ω: `smartctl -s on /dev/sdX`

### –°–∫—Ä–∏–ø—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç NVMe –¥–∏—Å–∫
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `nvme-cli` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –¥–∏—Å–∫–∞: `ls /dev/nvme*`

### Permission denied
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å –ø—Ä–∞–≤–∞–º–∏ root: `sudo ./disk_temp.sh`
